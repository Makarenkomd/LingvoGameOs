@model List<Game>

@{
    ViewData["Title"] = "Главная";
}

<link rel="stylesheet" href="/css/homepage.css" />
<link rel="stylesheet" href="/css/style.css" />
<!-- Hero Section - Full Height Background -->
<section class="homepage-hero">
    <div class="homepage-hero__content">
        <h1 class="homepage-hero__title">ОСЕТИНСКИЙ ЯЗЫК БЛИЖЕ, ЧЕМ ТЫ ДУМАЕШЬ</h1>
        <p class="homepage-hero__description">
            На нашей платформе ты найдешь игры для любого возраста и уровня подготовки. Учи слова, грамматику, слушай осетинскую речь и погружайся в культуру Осетии – все в игровой форме!
        </p>
        <div class="homepage-hero__actions">
            <a href="#games" class="homepage-hero__button homepage-hero__button--primary">
                <img src="/icon/play.svg" alt="Play" class="homepage-hero__icon" /> Начать играть
            </a>
            <a href="/Account/Register" class="homepage-hero__button homepage-hero__button--secondary">Присоединиться</a>
        </div>
    </div>
</section>

<!-- CTA Section -->
<section class="homepage-cta">
    <div class="homepage-cta__content">
        <h2 class="homepage-cta__title">Внеси свой вклад в развитие осетинского языка!</h2>
        <p class="homepage-cta__description">
            Мечтаешь о своей игре, которая поможет сохранить и продвинуть осетинский язык? Теперь у тебя есть такая возможность! Присоединяйся к нашему сообществу разработчиков и создавай игры, которые будут учить и развлекать.
        </p>
        <a asp-controller="Game" asp-action="Upload" class="homepage-cta__button">Загрузить игру</a>
    </div>
</section>

<!-- Categories Section -->
<section class="homepage-categories">
    <div class="homepage-categories__container">
        <div class="homepage-categories__header">
            <div class="homepage-categories__text">
                <h2 class="homepage-categories__title">Найди игру по своим интересам!</h2>
                <p class="homepage-categories__description">
                    Мы разделили игры по категориям, чтобы тебе было проще найти то, что тебе нравится.
                </p>
            </div>
            <div class="homepage-categories__controls">
                <button class="homepage-carousel-control homepage-categories__prev" aria-label="Предыдущие категории">
                    <img src="/icon/prev.svg" alt="Назад" />
                </button>
                <span class="homepage-carousel-page-counter">1 из 1</span>
                <button class="homepage-carousel-control homepage-categories__next" aria-label="Следующие категории">
                    <img src="/icon/next.svg" alt="Вперед" />
                </button>
            </div>
        </div>
        <div class="homepage-categories__carousel">
            <div class="homepage-categories__list">
                @foreach (var category in new[] { 
                    new { Title = "Культура", Icons = new[] { "/img/games/art-object-1.png", "/img/games/art-object-2.jpeg" }, Icon = "/icon/categories.svg" },
                    new { Title = "Чтение", Icons = new[] { "/img/games/art-object-3.png", "/img/games/cross-1.jpg" }, Icon = "/icon/categories.svg" },
                    new { Title = "Словарный запас", Icons = new[] { "/img/games/gameplay-animal-1.jpg", "/img/games/gameplay-animal-2.jpg" }, Icon = "/icon/categories.svg" },
                    new { Title = "Грамматика", Icons = new[] { "/img/games/gameplay-animal.png", "/img/games/mountain-labyrinth-banner-1.png" }, Icon = "/icon/categories.svg" }
                })
                {
                    <div class="homepage-categories__item">
                        <div class="homepage-category-card">
                            <div class="homepage-category-card__images">
                                <img src="@category.Icons[0]" alt="@category.Title" class="homepage-category-card__image" loading="lazy" />
                                <img src="@category.Icons[1]" alt="@category.Title" class="homepage-category-card__image" loading="lazy" />
                            </div>
                            <div class="homepage-category-card__info">
                                <h3 class="homepage-category-card__title">@category.Title</h3>
                                <img src="@category.Icon" alt="Иконка @category.Title" class="homepage-category-card__icon" />
                            </div>
                        </div>
                    </div>
                }
            </div>
        </div>
    </div>
</section>

<!-- Popular Games Section -->
<section class="homepage-games" id="games">
    <div class="homepage-games__container">
        <div class="homepage-games__header">
            <div class="homepage-games__text">
                <h2 class="homepage-games__title">Посмотри, во что играют другие пользователи</h2>
                <p class="homepage-games__description">Самые популярные игры</p>
            </div>
            <div class="homepage-games__controls">
                <button class="homepage-carousel-control homepage-games__prev" aria-label="Предыдущие игры">
                    <img src="/icon/prev.svg" alt="Назад" />
                </button>
                <span class="homepage-carousel-page-counter">1 из 1</span>
                <button class="homepage-carousel-control homepage-games__next" aria-label="Следующие игры">
                    <img src="/icon/next.svg" alt="Вперед" />
                </button>
            </div>
        </div>

        <div class="homepage-games__list">
            @if (Model != null && Model.Any())
            {
                @foreach (var game in Model.Take(6))
                {
                    <div class="homepage-games__item" data-rating="@game.RaitingPlayers">
                        <img class="homepage-games__image" src="@game.CoverImagePath" alt="@game.Title" loading="lazy">
                        <div class="homepage-games__content">
                            <h3 class="homepage-games__name">@game.Title</h3>
                            <div class="homepage-games__stats">
                                <span class="homepage-games__rating">
                                    <img src="/icon/star.svg" alt="star" class="rating-star filled">
                                    <img src="/icon/star.svg" alt="star" class="rating-star filled">
                                    <img src="/icon/star.svg" alt="star" class="rating-star filled">
                                    <img src="/icon/star.svg" alt="star" class="rating-star filled">
                                    <img src="/icon/star.svg" alt="star" class="rating-star filled"> @game.RaitingPlayers
                                </span>
                                <span class="homepage-games__likes">
                                    <img src="/icon/like2.svg" alt="like" class="stat-icon favorite-toggle"> 120
                                </span>
                                <span class="homepage-games__views">
                                    <img src="/icon/eye.svg" alt="view" class="stat-icon"> @game.NumberDownloads
                                </span>
                            </div>
                            <div class="homepage-games__actions">
                                @if (game.GamePlatform.Name == "Desktop")
                                {
                                    <a href="@game.GameURL" download role="button" class="homepage-games__button">Скачать</a>
                                }
                                else
                                {
                                    <a asp-controller="Game" asp-action="Start" asp-route-idGame="@game.Id" class="homepage-games__button">Играть</a>
                                }
                                <a asp-controller="Game" asp-action="Details" asp-route-idGame="@game.Id" role="button" class="homepage-games__preview">Подробнее</a>
                            </div>
                        </div>
                    </div>
                }
            }
            else
            {
                <!-- Placeholder games when no real games are available -->
                @foreach (var placeholderGame in new[] {
                    new { Title = "Сокровища Осетии", Rating = 4.8, Likes = 156, Views = 2340, Cover = "/img/games/mountain-labyrinth-banner-2.png" },
                    new { Title = "Грамматический Штурм", Rating = 4.5, Likes = 89, Views = 1200, Cover = "/img/games/mountain-labyrinth-banner-3.png" },
                    new { Title = "Словарный Бой", Rating = 4.7, Likes = 203, Views = 3100, Cover = "/img/games/mountain-labyrinth-banner-2.png" },
                    new { Title = "Уши на Макушке", Rating = 4.6, Likes = 134, Views = 1890, Cover = "/img/games/mountain-labyrinth-banner-3.png" },
                    new { Title = "Культурный Квест", Rating = 4.9, Likes = 278, Views = 4200, Cover = "/img/games/mountain-labyrinth-banner-2.png" },
                    new { Title = "Языковой Лабиринт", Rating = 4.4, Likes = 67, Views = 980, Cover = "/img/games/mountain-labyrinth-banner-3.png" }
                })
                {
                    <div class="homepage-games__item">
                        <img class="homepage-games__image" src="@placeholderGame.Cover" alt="@placeholderGame.Title" loading="lazy">
                        <div class="homepage-games__content">
                            <h3 class="homepage-games__name">@placeholderGame.Title</h3>
                            <div class="homepage-games__stats">
                                <span class="homepage-games__rating">
                                    <img src="/icon/star.svg" alt="star" class="rating-star filled">
                                    <img src="/icon/star.svg" alt="star" class="rating-star filled">
                                    <img src="/icon/star.svg" alt="star" class="rating-star filled">
                                    <img src="/icon/star.svg" alt="star" class="rating-star filled">
                                    <img src="/icon/star.svg" alt="star" class="rating-star filled"> @placeholderGame.Rating
                                </span>
                                <span class="homepage-games__likes">
                                    <img src="/icon/like2.svg" alt="like" class="stat-icon favorite-toggle"> @placeholderGame.Likes
                                </span>
                                <span class="homepage-games__views">
                                    <img src="/icon/eye.svg" alt="view" class="stat-icon"> @placeholderGame.Views
                                </span>
                            </div>
                            <div class="homepage-games__actions">
                                <a href="#" class="homepage-games__button">Играть</a>
                                <a href="#" role="button" class="homepage-games__preview">Подробнее</a>
                            </div>
                        </div>
                    </div>
                }
            }
        </div>
        <a href="/Home/Games" class="homepage-games__view-all">Посмотреть все</a>
    </div>
</section>

<!-- New Games Section -->
<section class="homepage-new-games">
    <div class="homepage-new-games__container">
        <div class="homepage-new-games__header">
            <div class="homepage-new-games__text">
                <h2 class="homepage-new-games__title">Что нового?</h2>
                <p class="homepage-new-games__description">Попробуй новые игры, добавленные на платформу.</p>
            </div>
        </div>
        <div class="homepage-new-games__list">
            @foreach (var newGame in new[] {
                new { Title = "Приключенческая игра", Date = "06.02.2025", Cover = "/img/games/mountain-labyrinth-banner-1.png" },
                new { Title = "Приключенческая игра", Date = "06.02.2025", Cover = "/img/games/mountain-labyrinth-banner-2.png" },
                new { Title = "Приключенческая игра", Date = "06.02.2025", Cover = "/img/games/mountain-labyrinth-banner-3.png" },
                new { Title = "Приключенческая игра", Date = "06.02.2025", Cover = "/img/games/art-object-1.png" },
                new { Title = "Приключенческая игра", Date = "06.02.2025", Cover = "/img/games/art-object-2.jpeg" }
            })
            {
                <div class="homepage-new-games__item">
                    <div class="homepage-new-games__card">
                        <img class="homepage-new-games__image" src="@newGame.Cover" alt="@newGame.Title" loading="lazy">
                        <div class="homepage-new-games__overlay">
                            <h3 class="homepage-new-games__name">@newGame.Title</h3>
                            <span class="homepage-new-games__date">@newGame.Date</span>
                        </div>
                    </div>
                </div>
            }
        </div>
    </div>
</section>

<!-- Reviews Section -->
<section class="homepage-reviews">
    <div class="homepage-reviews__container">
        <div class="homepage-reviews__header">
            <div class="homepage-reviews__text">
                <h2 class="homepage-reviews__title">Отзывы пользователей</h2>
                <p class="homepage-reviews__description">Почитайте, что говорят о нашей платформе другие пользователи.</p>
            </div>
            <button class="homepage-reviews__button">
                <img src="/icon/write.svg" alt="Write" class="homepage-reviews__icon"> Написать отзыв
            </button>
        </div>
        <div class="homepage-reviews__list">
            <article class="homepage-reviews__card">
                <div class="homepage-reviews__reviewer">
                    <img src="/img/avatars/DavaAva.jpg" alt="Reviewer" class="homepage-reviews__avatar" loading="lazy">
                    <div class="homepage-reviews__reviewer-details">
                        <span class="homepage-reviews__reviewer-name">Viezh Robert</span>
                        <span class="homepage-reviews__reviewer-location">Warsaw, Poland</span>
                    </div>
                    <div class="homepage-reviews__rating">
                        <span class="homepage-reviews__rating-score">4.5</span>
                        <img src="/icon/star-filled.svg" alt="Star" class="homepage-reviews__star">
                    </div>
                </div>
                <p class="homepage-reviews__text">
                    Lorem Ipsum is simply dummy text of the printing and typesetting industry. Lorem Ipsum has been the industry's standard dummy text ever since the 1500s.
                </p>
            </article>
            <article class="homepage-reviews__card">
                <div class="homepage-reviews__reviewer">
                    <img src="/img/avatars/MaraAva.jpg" alt="Reviewer" class="homepage-reviews__avatar" loading="lazy">
                    <div class="homepage-reviews__reviewer-details">
                        <span class="homepage-reviews__reviewer-name">Yessica Christy</span>
                        <span class="homepage-reviews__reviewer-location">Shanxi, China</span>
                    </div>
                    <div class="homepage-reviews__rating">
                        <span class="homepage-reviews__rating-score">4.5</span>
                        <img src="/icon/star-filled.svg" alt="Star" class="homepage-reviews__star">
                    </div>
                </div>
                <p class="homepage-reviews__text">
                    Lorem Ipsum is simply dummy text of the printing and
                </p>
            </article>
            <article class="homepage-reviews__card">
                <div class="homepage-reviews__reviewer">
                    <img src="/img/avatars/admin-avatar-11.png" alt="Reviewer" class="homepage-reviews__avatar" loading="lazy">
                    <div class="homepage-reviews__reviewer-details">
                        <span class="homepage-reviews__reviewer-name">Yessica Christy</span>
                        <span class="homepage-reviews__reviewer-location">Shanxi, China</span>
                    </div>
                    <div class="homepage-reviews__rating">
                        <span class="homepage-reviews__rating-score">4.5</span>
                        <img src="/icon/star-filled.svg" alt="Star" class="homepage-reviews__star">
                    </div>
                </div>
                <p class="homepage-reviews__text">
                    Lorem Ipsum is simply dummy text of the printing and
                </p>
            </article>
        </div>
        <div class="homepage-reviews__navigation">
            <div class="homepage-reviews__indicators">
                <div class="homepage-reviews__indicator active"></div>
                <div class="homepage-reviews__indicator"></div>
                <div class="homepage-reviews__indicator"></div>
            </div>
            <div class="homepage-reviews__nav-buttons">
                <button class="homepage-reviews__nav-button homepage-reviews__nav-button--prev" aria-label="Предыдущий отзыв">
                    <img src="/icon/prev.svg" alt="Назад" />
                </button>
                <button class="homepage-reviews__nav-button homepage-reviews__nav-button--next" aria-label="Следующий отзыв">
                    <img src="/icon/next.svg" alt="Вперед" />
                </button>
            </div>
        </div>
    </div>
</section>

<!-- FAQ Section -->
<section class="homepage-faq">
    <div class="homepage-faq__container">
        <div class="homepage-faq__header">
            <div class="homepage-faq__text">
                <h2 class="homepage-faq__title">Нужна помощь? Посмотри здесь!</h2>
                <p class="homepage-faq__description">Здесь мы собрали ответы на самые популярные вопросы о нашей платформе.</p>
            </div>
            <button class="homepage-faq__button">Задать вопрос</button>
        </div>
        <div class="homepage-faq__list">
            <div class="homepage-faq__item active">
                <div class="homepage-faq__question">
                    <h3 class="homepage-faq__question-title">Как зарегистрироваться на платформе?</h3>
                    <img src="/icon/chevron-down.svg" alt="Expand" class="homepage-faq__icon" />
                </div>
                <div class="homepage-faq__answer">
                    <p>Чтобы зарегистрироваться, нажмите кнопку 'Регистрация' в правом верхнем углу страницы и заполните необходимые поля. После этого подтвердите свой email, перейдя по ссылке в письме.</p>
                </div>
            </div>
            <div class="homepage-faq__item">
                <div class="homepage-faq__question">
                    <h3 class="homepage-faq__question-title">Как найти игру?</h3>
                    <img src="/icon/chevron-down.svg" alt="Expand" class="homepage-faq__icon" />
                </div>
                <div class="homepage-faq__answer">
                    <p>Используйте поиск по названию или фильтры по категориям, уровню сложности и типу игры. Также можете просматривать популярные игры на главной странице.</p>
                </div>
            </div>
            <div class="homepage-faq__item">
                <div class="homepage-faq__question">
                    <h3 class="homepage-faq__question-title">Платформа бесплатна?</h3>
                    <img src="/icon/chevron-down.svg" alt="Expand" class="homepage-faq__icon" />
                </div>
                <div class="homepage-faq__answer">
                    <p>Да, наша платформа полностью бесплатна для всех пользователей. Вы можете играть в любые игры без ограничений.</p>
                </div>
            </div>
            <div class="homepage-faq__item">
                <div class="homepage-faq__question">
                    <h3 class="homepage-faq__question-title">Я учитель. Как мне использовать платформу в классе?</h3>
                    <img src="/icon/chevron-down.svg" alt="Expand" class="homepage-faq__icon" />
                </div>
                <div class="homepage-faq__answer">
                    <p>Платформа отлично подходит для образовательных целей. Вы можете рекомендовать игры ученикам, отслеживать их прогресс и использовать игры как дополнительный материал на уроках.</p>
                </div>
            </div>
            <div class="homepage-faq__item">
                <div class="homepage-faq__question">
                    <h3 class="homepage-faq__question-title">Я разработчик. Как мне загрузить свою игру на платформу?</h3>
                    <img src="/icon/chevron-down.svg" alt="Expand" class="homepage-faq__icon" />
                </div>
                <div class="homepage-faq__answer">
                    <p>Перейдите в раздел "Загрузить игру" и следуйте инструкциям. Вам нужно будет заполнить форму с информацией об игре и загрузить файлы.</p>
                </div>
            </div>
            <div class="homepage-faq__item">
                <div class="homepage-faq__question">
                    <h3 class="homepage-faq__question-title">Какие требования к играм для загрузки на платформу?</h3>
                    <img src="/icon/chevron-down.svg" alt="Expand" class="homepage-faq__icon" />
                </div>
                <div class="homepage-faq__answer">
                    <p>Игра должна быть связана с изучением осетинского языка, иметь образовательную ценность и соответствовать техническим требованиям платформы.</p>
                </div>
            </div>
        </div>
    </div>
</section>
<script type="module" src="js/homepage.js"></script>